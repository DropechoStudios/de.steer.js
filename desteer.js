var DE=DE||{};
DE.Vector=function(){function b(a,b){"object"===typeof DE.unwrap(a)?(this.x=DE.unwrap(a.x)||0,this.y=DE.unwrap(a.y)||0):(this.x=DE.unwrap(a)||0,this.y=DE.unwrap(b)||0);return this}b.prototype.Scale=function(a){a=DE.unwrap(a)||1;this.x*=a;this.y*=a;return this};b.prototype.Add=function(a){a=DE.unwrap(a);this.x+=a.x;this.y+=a.y;return this};b.prototype.Sub=function(a){a=DE.unwrap(a);this.x-=a.x;this.y-=a.y;return this};b.prototype.Dot=function(a){a=DE.unwrap(a);return this.x*a.x+this.y*a.y};b.prototype.Length=
function(){return Math.sqrt(this.x*this.x+this.y*this.y)};b.prototype.LengthSQ=function(){return this.x*this.x+this.y*this.y};b.prototype.GetDistanceFrom=function(a){a=DE.unwrap(a);return(new b(this.x-a.x,this.y-a.y)).Length()};b.prototype.Normalize=function(a){a=DE.unwrap(a);var b=1/this.Length();this.x*=b;this.y*=b;this.Scale(a||1);return this};return b}();DE.Vec2d=function(b,a){return new DE.Vector(b,a)};DE=DE||{};DE.Steer=function(){function b(){}b.prototype.seek=function(a,b,d){return b.Sub(a).Normalize(d)};b.prototype.flee=function(a,b,d,c){c=void 0===c||-1===c||b.GetDistanceFrom(a)<=c;a=a.Sub(b).Normalize(d);return c?a:DE.Vec2d(0,0)};return new b}();DE=DE||{};DE.clamp=function(b,a,e){return Math.max(a,Math.min(b,e))};DE.rand=function(b,a){return void 0!==b?DE.clamp(Math.random(),b,a):Math.random()};DE.unwrap=function(b){return"function"===typeof b?b():b};
